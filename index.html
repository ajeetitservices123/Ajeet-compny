<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Game App</title>
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; }
        body { background-color: #f9f9f9; display: flex; justify-content: center; height: 100vh; }
        
        /* App Container (Mobile View) */
        .app-container { width: 100%; max-width: 400px; background: white; position: relative; overflow: hidden; box-shadow: 0 0 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
        
        /* Header */
        .header { background: #fff; padding: 15px; text-align: center; font-weight: bold; font-size: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); z-index: 10; }
        
        /* Screens */
        .screen { display: none; padding: 20px; flex: 1; overflow-y: auto; }
        .screen.active { display: block; }

        /* Level Badges Design (From your screenshots) */
        .level-container { text-align: center; margin-bottom: 30px; }
        .badge { width: 100px; height: 100px; border-radius: 50%; display: inline-flex; justify-content: center; align-items: center; font-size: 40px; margin-bottom: 10px; cursor: pointer; transition: transform 0.2s; }
        .badge:active { transform: scale(0.95); }
        .badge.unlocked { background: linear-gradient(135deg, #FFD700, #FFA500); box-shadow: 0 4px 10px rgba(255, 165, 0, 0.4); color: white; }
        .badge.locked { background: #e0e0e0; color: #9e9e9e; }
        .level-title { font-weight: bold; font-size: 16px; color: #333; }

        /* Card Design */
        .card { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); text-align: center; min-height: 250px; display: flex; flex-direction: column; justify-content: center; border: 2px solid #f0f0f0; }
        .card h2 { color: #4A90E2; margin-bottom: 15px; font-size: 22px; }
        .card p { font-size: 16px; line-height: 1.6; color: #555; margin-bottom: 20px; }
        
        /* Options for Quiz */
        .option-btn { width: 100%; padding: 12px; margin: 8px 0; border: 2px solid #e0e0e0; border-radius: 8px; background: white; font-size: 16px; cursor: pointer; transition: 0.3s; font-weight: bold; color: #333; }
        .option-btn:hover { border-color: #4A90E2; background: #f0f8ff; }
        .option-btn.correct { background: #4caf50; color: white; border-color: #4caf50; }
        .option-btn.wrong { background: #f44336; color: white; border-color: #f44336; }

        /* Controls */
        .controls { display: flex; justify-content: space-between; margin-top: 20px; }
        .btn { padding: 12px 20px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .btn-next { background: #4A90E2; color: white; width: 100%; box-shadow: 0 4px 10px rgba(74, 144, 226, 0.3); }
        .btn-next:disabled { background: #ccc; box-shadow: none; cursor: not-allowed; }

        /* Progress Bar */
        .progress-bar { width: 100%; height: 8px; background: #e0e0e0; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: #4CAF50; width: 0%; transition: width 0.3s; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="header" id="app-header">Levels</div>

        <div id="level-screen" class="screen active">
            <h3 style="text-align:center; margin-bottom:20px;">App: English Grammar</h3>
            
            <div class="level-container" onclick="startGame()">
                <div class="badge unlocked">‚≠ê</div>
                <div class="level-title">1. Subject-Verb Concord</div>
            </div>

            <div class="level-container">
                <div class="badge locked">üîí</div>
                <div class="level-title">2. Tenses (Locked)</div>
            </div>
            
            <div class="level-container">
                <div class="badge locked">üîí</div>
                <div class="level-title">3. Prepositions (Locked)</div>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            
            <div id="card-container">
                </div>

            <div class="controls">
                <button id="next-btn" class="btn btn-next" onclick="nextCard()">Next üëâ</button>
            </div>
        </div>
    </div>

    <audio id="applause-sound" src="https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3" preload="auto"></audio>

    <script>
        // Game Data: 2 Theory Cards -> 1 Quiz -> 1 Theory -> 1 Quiz
        const cardsData = [
            {
                type: 'theory',
                title: 'Welcome to the Game!',
                content: 'Subject-Verb Concord bahut hi <b>easy</b> aur mazedar hai. Rule simple hai: Agar Subject ek hai (Singular), toh Verb bhi Singular hogi (verb mein s/es lagta hai).'
            },
            {
                type: 'theory',
                title: 'Singular & Plural Magic',
                content: '<b>Examples:</b><br><br>Singular: He <b>plays</b> cricket.<br>Plural: They <b>play</b> cricket.<br><br>Dekha kitna <b>thrilling</b> hai? Bas match karna hai!'
            },
            {
                type: 'quiz',
                title: 'Your Turn!',
                question: 'The dog ______ fast.',
                options: ['run', 'runs'],
                correct: 1 // index of 'runs'
            },
            {
                type: 'theory',
                title: 'The "And" Team',
                content: 'Jab do log "and" se judte hain, toh wo ek team (Plural) ban jate hain. Isliye verb bhi plural aayegi.<br><br><b>Example:</b> Rahul and Priya <b>are</b> happy.'
            },
            {
                type: 'quiz',
                title: 'Quiz Time!',
                question: 'Rohan and Aman ______ going to school.',
                options: ['is', 'are'],
                correct: 1 // index of 'are'
            },
            {
                type: 'theory',
                title: 'Level Complete! üéâ',
                content: 'Aapne is basics ko jeet liya hai! <b>Enjoy the process</b> of learning! Naya level ab unlock ho gaya hai.'
            }
        ];

        let currentCardIndex = 0;
        let quizAnswered = false;

        function startGame() {
            document.getElementById('level-screen').classList.remove('active');
            document.getElementById('game-screen').classList.add('active');
            document.getElementById('app-header').innerText = 'Playing Game...';
            currentCardIndex = 0;
            renderCard();
        }

        function renderCard() {
            const cardData = cardsData[currentCardIndex];
            const container = document.getElementById('card-container');
            const nextBtn = document.getElementById('next-btn');
            quizAnswered = false;

            // Update Progress Bar
            let progress = ((currentCardIndex + 1) / cardsData.length) * 100;
            document.getElementById('progress').style.width = progress + '%';

            let cardHTML = `<div class="card"><h2>${cardData.title}</h2>`;

            if (cardData.type === 'theory') {
                cardHTML += `<p>${cardData.content}</p>`;
                nextBtn.innerText = currentCardIndex === cardsData.length - 1 ? 'Finish Game üèÜ' : 'Next üëâ';
                nextBtn.disabled = false;
            } 
            else if (cardData.type === 'quiz') {
                cardHTML += `<p><b>${cardData.question}</b></p>`;
                cardData.options.forEach((opt, index) => {
                    cardHTML += `<button class="option-btn" onclick="checkAnswer(${index}, ${cardData.correct}, this)">${opt}</button>`;
                });
                nextBtn.disabled = true; // Block Next button until correct answer
                nextBtn.innerText = 'Answer to unlock Next';
            }

            cardHTML += `</div>`;
            container.innerHTML = cardHTML;
        }

        function checkAnswer(selectedIndex, correctIndex, btnElement) {
            if (quizAnswered) return; // Prevent multiple clicks

            const buttons = document.querySelectorAll('.option-btn');
            
            if (selectedIndex === correctIndex) {
                btnElement.classList.add('correct');
                document.getElementById('next-btn').disabled = false;
                document.getElementById('next-btn').innerText = 'Next üëâ';
                quizAnswered = true;
                
                // Chhoti si vibration correct aane par
                if (navigator.vibrate) navigator.vibrate(50);
            } else {
                btnElement.classList.add('wrong');
                // Vibrate for wrong answer
                if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            }
        }

        function nextCard() {
            if (currentCardIndex < cardsData.length - 1) {
                currentCardIndex++;
                renderCard();
            } else {
                finishLevel();
            }
        }

        function finishLevel() {
            // Vibrate phone (pattern: vibrate, pause, vibrate)
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200, 100, 400]);
            }
            
            // Play Applause Sound
            const sound = document.getElementById('applause-sound');
            sound.play();

            alert("Wah! Aapne yeh level paar kar liya! Enjoyment aur learning aise hi chalti rahegi!");
            
            // Go back to home
            document.getElementById('game-screen').classList.remove('active');
            document.getElementById('level-screen').classList.add('active');
            document.getElementById('app-header').innerText = 'Levels';
            
            // Visual feedback: Change locked badge to unlocked (dummy logic for example)
            const badges = document.querySelectorAll('.badge');
            badges[1].classList.remove('locked');
            badges[1].classList.add('unlocked');
            badges[1].innerHTML = '‚≠ê';
            badges[1].nextElementSibling.innerText = '2. Tenses (Unlocked!)';
        }
    </script>
</body>
            </html>
